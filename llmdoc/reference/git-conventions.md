# Git Conventions

## 1. Core Summary

ACadSharp follows a feature-branch-based Git workflow with semantic versioning. The project maintains a single main branch (`master`), uses issue-linked feature branches, and enforces commit message conventions through automated version updates.

## 2. Primary Branch Strategy

- **Main branch:** `master`
- **Feature branch naming:** `issue-<number>_<description>` (e.g., `issue-916_polyfacemesh-dxf-read-fix`)
- **Feature branch naming (alternate):** `<feature-name>` (e.g., `test-refactor`, `AC1015-dwgwriter-refine`)
- **Remote branches:** All feature branches are pushed to origin for PR review before merging

## 3. Commit Message Conventions

### Format Pattern
- **Single-line commits:** Short, present-tense descriptions (e.g., `fix`, `refactor`, `entity links`, `text defaults`)
- **Merge commits:** `Merge pull request #<number> from <branch>` (automatically generated by GitHub)
- **Remote merge commits:** `Merge remote-tracking branch 'origin/master' into <branch>`
- **Version updates:** `Update project version to <X.Y.Z>`

### Observed Commit Types
- `fix` - Bug fixes
- `refactor` - Code refactoring
- `cleanup` - Code cleanup and maintenance
- `Add` - New features or functionality (e.g., "Add stream-based output and self-check mechanisms")
- `Update` - Version updates and changes to existing features
- `Merge` - Integration of feature branches or remote updates

### Examples
```
fix
refactor
Update project version to 3.3.13
Add stream-based output and self-check mechanisms
Merge pull request #877 from DomCR/test-refactor
```

## 4. Pull Request Process

### PR Title Format
- Automatically formatted as: `Merge pull request #<number> from <author>/<branch-name>`

### PR Template Requirements (`.github/pull_request_template.md`)
- **Description:** Short description of PR content
- **Tasks done:** Checkbox list including:
  - Feature implementations
  - Bug fixes
  - Code cleanup and maintenance
- **Related Issues/PRs:** Links to associated issues or pull requests
- **Notes for reviewer:** Context for reviewers

### Review Flow
- Feature branch created from issue or feature work
- PR opened with description and related issues
- Code review required before merge
- Automatic merge to `master` after approval

## 5. Version Management

### Version Format
- **Semantic versioning:** `X.Y.Z` (e.g., `3.3.13`)
- **Current version:** `3.3.13` (as of latest commit)
- **Location:** `.csproj` file (`<Version>` element)

### Version Update Pattern
- Updated via commits with message: `Update project version to X.Y.Z`
- Typically occurs at milestone completion (after PR merge)
- Recent version progression: `3.3.5` → `3.3.9` → `3.3.10` → `3.3.11` → `3.3.12` → `3.3.13`

## 6. Key Observations

- **No conventional commits:** The project does not enforce Conventional Commits (feat:, fix:, etc.) prefixes
- **GitHub automation:** PR merges are handled by GitHub with automatic commit messages
- **Branch cleanup:** Completed feature branches remain on remote for historical reference
- **Version-driven releases:** Versions are incremented and committed as work completes
